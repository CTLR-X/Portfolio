<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bohdan Kuspys | AI & Automation Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
    </style>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        teal: tailwind.colors.teal,
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                },
            },
        }
    </script>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- Header & Navigation -->
    <nav class="sticky top-0 w-full bg-white/90 backdrop-blur-md shadow-sm z-50">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo/Name -->
                <div class="flex-shrink-0 flex items-center">
                    <span class="text-xl font-bold text-teal-600">Bohdan Kuspys</span>
                </div>
                <!-- Navigation Links -->
                <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
                    <a href="#about" class="nav-link inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700 transition-colors">About</a>
                    <a href="#projects" class="nav-link inline-flex items-center px-1 pt-1 border-b-2 border-transparent text-sm font-medium text-gray-500 hover:border-gray-300 hover:text-gray-700 transition-colors">Projects</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section id="home" class="relative flex items-center justify-center pt-24 pb-16 md:pt-32 md:pb-24">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                <h1 class="text-4xl font-bold tracking-tight text-gray-900 sm:text-5xl md:text-6xl">
                    Bohdan Kuspys
                </h1>
                <p class="mt-3 max-w-md mx-auto text-base text-teal-600 sm:text-lg md:mt-5 md:text-xl md:max-w-3xl">
                    AI Intern Portfolio
                </p>
                <div class="mt-8 flex justify-center space-x-6">
                    <a href="mailto:Bohdankuspys@gmail.com" class="text-gray-500 hover:text-gray-900" title="Email">
                        <span class="text-2xl font-medium">&#9993;</span>
                        <span class="sr-only">Email</span>
                    </a>
                    <a href="https://github.com/CTLR-X" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-gray-900 inline-flex items-center" title="GitHub">
                        <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                            <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd" />
                        </svg>
                        <span class="sr-only">GitHub</span>
                    </a>
                    <a href="https://www.linkedin.com/in/bohdan-kuspys" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-gray-900" title="LinkedIn">
                        <span class="text-2xl font-bold">in</span>
                        <span class="sr-only">LinkedIn</span>
                    </a>

                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="py-16 sm:py-24 bg-white">
            <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 space-y-12">
                <div class="text-center">
                    <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">
                        About Me
                    </h2>
                    <p class="mt-4 text-lg leading-8 text-gray-600">
                        A self-directed engineer focused on creating efficient, time-saving solutions. Experienced in full-stack MVP development, embedded systems (ESP32), workflow automation (N8N), and advanced prompt engineering for both code generation and data analysis using models like Gemini, Whisper, and Claude.
                    </p>
                </div>
                <div>
                    <h3 class="text-2xl font-semibold text-center text-gray-900">
                        Key Skills
                    </h3>
                    <div class="mt-8 flex flex-wrap justify-center gap-3">
                        <span class="bg-teal-100 text-teal-800 text-sm font-medium px-3 py-1.5 rounded-full">ESP32</span>
                        <span class="bg-teal-100 text-teal-800 text-sm font-medium px-3 py-1.5 rounded-full">C/C++</span>
                        <span class="bg-teal-100 text-teal-800 text-sm font-medium px-3 py-1.5 rounded-full">N8N</span>
                        <span class="bg-teal-100 text-teal-800 text-sm font-medium px-3 py-1.5 rounded-full">Workflow Automation</span>
                        <span class="bg-teal-100 text-teal-800 text-sm font-medium px-3 py-1.5 rounded-full">JavaScript</span>
                        <span class="bg-teal-100 text-teal-800 text-sm font-medium px-3 py-1.5 rounded-full">DigitalOcean</span>
                        <span class="bg-gray-100 text-gray-800 text-sm font-medium px-3 py-1.5 rounded-full">Gemini</span>
                        <span class="bg-gray-100 text-gray-800 text-sm font-medium px-3 py-1.5 rounded-full">ChatGPT</span>
                        <span class="bg-gray-100 text-gray-800 text-sm font-medium px-3 py-1.5 rounded-full">Claude</span>
                        <span class="bg-gray-100 text-gray-800 text-sm font-medium px-3 py-1.5 rounded-full">OpenAI Whisper</span>
                        <span class="bg-gray-100 text-gray-800 text-sm font-medium px-3 py-1.5 rounded-full">Prompt Engineering</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="py-16 sm:py-24">
            <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center">
                    <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">
                        Featured Projects
                    </h2>
                    <p class="mt-4 text-lg leading-8 text-gray-600">
                        Click on any project to see the full details.
                    </p>
                </div>

                <div class="mt-16 grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12">
                    <!-- Project 1 Card -->
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl">
                        <div class="p-8">
                            <h3 class="text-xl font-semibold text-gray-900">Smart Speaker (ESP32)</h3>
                            <p class="mt-3 text-sm text-gray-600">A hardware/software project emphasizing embedded systems development and AI debugging.</p>
                            <div class="mt-4 flex flex-wrap gap-2">
                                <span class="bg-gray-100 text-gray-700 text-xs font-medium px-2.5 py-1 rounded-full">ESP32</span>
                                <span class="bg-gray-100 text-gray-700 text-xs font-medium px-2.5 py-1 rounded-full">C/C++</span>
                                <span class="bg-gray-100 text-gray-700 text-xs font-medium px-2.5 py-1 rounded-full">Hardware</span>
                            </div>
                            <button data-project-id="1" class="open-modal-btn mt-6 w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors">
                                View Details
                            </button>
                        </div>
                    </div>

                    <!-- Project 2 Card -->
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl">
                        <img src="Dodi AI Main.png" alt="Dodi AI Main Interface" class="w-full h-48 object-cover">
                        <div class="p-8">
                            <h3 class="text-xl font-semibold text-gray-900">GPT Wrapper (MVP)</h3>
                            <p class="mt-3 text-sm text-gray-600">My initial full-stack project focusing on early LLM integration and system prompt design.</p>
                            <div class="mt-4 flex flex-wrap gap-2">
                                <span class="bg-gray-100 text-gray-700 text-xs font-medium px-2.5 py-1 rounded-full">JavaScript</span>
                                <span class="bg-gray-100 text-gray-700 text-xs font-medium px-2.5 py-1 rounded-full">Full-Stack</span>
                                <span class="bg-gray-100 text-gray-700 text-xs font-medium px-2.5 py-1 rounded-full">MVP</span>
                            </div>
                            <button data-project-id="4" class="open-modal-btn mt-6 w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors">
                                View Details
                            </button>
                        </div>
                    </div>

                    <!-- Project 3 Card -->
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl">
                        <div class="p-8">
                            <h3 class="text-xl font-semibold text-gray-900">N8N Automation for Canvas File Downloads</h3>
                            <p class="mt-3 text-sm text-gray-600">A practical automation solution solving a daily operational friction point.</p>
                            <div class="mt-4 flex flex-wrap gap-2">
                                <span class="bg-gray-100 text-gray-700 text-xs font-medium px-2.5 py-1 rounded-full">N8N</span>
                                <span class="bg-gray-100 text-gray-700 text-xs font-medium px-2.5 py-1 rounded-full">Automation</span>
                                <span class="bg-gray-100 text-gray-700 text-xs font-medium px-2.5 py-1 rounded-full">APIs</span>
                            </div>
                            <button data-project-id="3" class="open-modal-btn mt-6 w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors">
                                View Details
                            </button>
                        </div>
                    </div>

                    <!-- Project 4 Card -->
                    <div class="bg-white rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl">
                        <div class="p-8">
                            <h3 class="text-xl font-semibold text-gray-900">AI Workflow for Interview Content Extraction</h3>
                            <p class="mt-3 text-sm text-gray-600">A solution for high-volume content analysis using LLMs for time-saving automation.</p>
                            <div class="mt-4 flex flex-wrap gap-2">
                                <span class="bg-gray-100 text-gray-700 text-xs font-medium px-2.5 py-1 rounded-full">AI/LLM</span>
                                <span class="bg-gray-100 text-gray-700 text-xs font-medium px-2.5 py-1 rounded-full">Whisper</span>
                                <span class="bg-gray-100 text-gray-700 text-xs font-medium px-2.5 py-1 rounded-full">Workflow</span>
                            </div>
                            <button data-project-id="2" class="open-modal-btn mt-6 w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-teal-600 hover:bg-teal-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-teal-500 transition-colors">
                                View Details
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="bg-white border-t border-gray-200">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8 text-center">
            <p class="text-sm text-gray-500">Created by Bohdan Kuspys</p>
        </div>
    </footer>

    <!-- Project Modal -->
    <div id="project-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center p-4 z-50 hidden transition-opacity duration-300" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <div class="bg-white rounded-xl shadow-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto transform transition-all duration-300 scale-95 opacity-0" id="modal-panel">
            <!-- Modal Header -->
            <div class="sticky top-0 bg-white flex justify-between items-center p-6 border-b border-gray-200 z-10">
                <h3 id="modal-title" class="text-2xl font-semibold text-gray-900"></h3>
                <button id="close-modal-btn" class="text-gray-400 hover:text-gray-600 transition-colors">
                    <span class="text-3xl font-light">&times;</span>
                    <span class="sr-only">Close modal</span>
                </button>
            </div>
            <!-- Modal Body -->
            <div class="p-8 space-y-6">
                <!-- Project Images -->
                <div id="modal-images" class="hidden">
                    <h4 class="text-sm font-medium text-teal-600 uppercase tracking-wider mb-3">Project Screenshots</h4>
                    <div class="relative">
                        <!-- Carousel Container -->
                        <div id="modal-images-container" class="overflow-hidden rounded-lg"></div>
                        
                        <!-- Navigation Buttons -->
                        <button id="carousel-prev" class="absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 p-2 rounded-full shadow-lg transition-all">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
                            </svg>
                        </button>
                        <button id="carousel-next" class="absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 p-2 rounded-full shadow-lg transition-all">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                            </svg>
                        </button>
                        
                        <!-- Indicators -->
                        <div id="carousel-indicators" class="flex justify-center mt-4 space-x-2"></div>
                    </div>
                </div>

                <!-- Project Video -->
                <div id="modal-video" class="hidden">
                    <h4 class="text-sm font-medium text-teal-600 uppercase tracking-wider mb-3">Project Video</h4>
                    <div class="relative w-full rounded-lg overflow-hidden shadow-lg bg-black" style="padding-bottom: 56.25%;">
                        <iframe id="modal-video-iframe" class="absolute top-0 left-0 w-full h-full" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                    </div>
                </div>
                
                <!-- Tech Stack -->
                <div>
                    <h4 class="text-sm font-medium text-teal-600 uppercase tracking-wider">Tech Stack</h4>
                    <div id="modal-tech" class="mt-3 flex flex-wrap gap-2"></div>
                </div>
                
                <!-- Problem -->
                <div>
                    <h4 class="text-sm font-medium text-teal-600 uppercase tracking-wider">The Problem & Challenge</h4>
                    <p id="modal-problem" class="mt-3 text-base text-gray-600 leading-relaxed"></p>
                </div>

                <!-- Solution -->
                <div>
                    <h4 class="text-sm font-medium text-teal-600 uppercase tracking-wider">The Solution & Process</h4>
                    <div id="modal-solution" class="mt-3 text-base text-gray-600 leading-relaxed space-y-4"></div>
                </div>

                <!-- Outcome / Achievement -->
                <div>
                    <h4 class="text-sm font-medium text-teal-600 uppercase tracking-wider" id="modal-outcome-title"></h4>
                    <div id="modal-outcome" class="mt-3 text-base text-gray-600 leading-relaxed space-y-4"></div>
                </div>

                <!-- Link -->
                <div id="modal-link-container" class="hidden">
                    <a id="modal-link" href="#" target="_blank" rel="noopener noreferrer" class="inline-flex items-center px-4 py-2 border border-teal-600 text-sm font-medium rounded-md text-teal-600 bg-white hover:bg-teal-50 transition-colors">
                        View GitHub Repository
                    </a>
                </div>
            </div>
        </div>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- Project Data ---
            const projects = {
                '1': {
                    title: 'Smart Speaker (ESP32)',
                    tech: ['ESP32', 'C/C++', 'Bluetooth', 'Wi-Fi', 'Touchscreen Libraries', 'Gemini', 'Cursor'],
                    problem: 'As part of a student project, the goal was to build a Bluetooth speaker. I pushed further to create a smart speaker with a touchscreen display. Lacking prior expertise in ESP32, libraries, and low-level hardware debugging, development was fraught with memory limitation issues and core panics.',
                    solution: `
                        <p>I adopted a <strong>modular development approach</strong>, isolating hardware components (screen display, touchscreen input, Bluetooth, Wi-Fi) into separate sub-projects before integrating them into a single, cohesive program.</p>
                        <p>This project heavily relied on AI assistance:</p>
                        <ul class="list-disc list-outside pl-5 space-y-2">
                            <li><strong>Advanced AI Debugging:</strong> Used <strong>Gemini</strong> and <strong>Cursor</strong> to rapidly learn, debug, and implement specialized hardware libraries, drastically reducing the time required to solve complex embedded system issues.</li>
                            <li><strong>Workflow Discipline:</strong> Due to the risk of AI-generated code breaking existing features, I practiced rigorous <strong>GitHub commit hygiene</strong>, making small, specific commits at every milestone. This allowed for quick rollbacks and efficient branching to test different debugging solutions, ensuring project stability.</li>
                        </ul>
                    `,
                    outcomeTitle: 'Key Learnings',
                    outcome: '<p>Successfully integrated multiple complex hardware features into a single device and developed a robust, AI-assisted workflow for debugging unfamiliar embedded systems.</p>',
                    link: null,
                    video: 'https://www.youtube.com/embed/_S6PgH1Q6a4'
                },
                '2': {
                    title: 'AI Workflow for Interview Content Extraction',
                    tech: ['OpenAI Whisper', 'Gemini', 'ChatGPT', 'Claude', 'Prompt Engineering', 'Workflow Automation'],
                    problem: 'We had a large volume of long-form interview videos. Manually reviewing and transcribing every minute to extract short, commercially viable clips was prohibitively time-consuming and inefficient.',
                    solution: `
                        <p>I created a pipeline to identify the most compelling content:</p>
                        <ol class="list-decimal list-outside pl-5 space-y-2">
                            <li><strong>Transcription:</strong> Utilized the <strong>OpenAI Whisper model</strong> to quickly and accurately transcribe all interview audio.</li>
                            <li><strong>Analysis and Curation:</strong> Fed the raw transcripts, along with examples of successful commercial scripts, into multiple LLMs (<strong>Gemini, ChatGPT, and Claude</strong>).</li>
                            <li><strong>Prompt Engineering:</strong> Developed and refined diverse system prompts to instruct the models to act as content analysts, comparing the transcripts to the examples and extracting sections that matched the required tone and promotional goal.</li>
                        </ol>
                    `,
                    outcomeTitle: 'Outcome',
                    outcome: '<p>This workflow saved significant hours of manual review, allowing the content team to focus immediately on production rather than searching for clips.</p>',
                    link: null
                },
                '3': {
                    title: 'N8N Automation for Canvas File Downloads',
                    tech: ['N8N', 'Workflow Automation', 'Web Hooks', 'APIs'],
                    problem: 'The Canvas learning platform lacks a central page to access and download all files (presentations, assignments, resources) across multiple classes. Manually navigating and clicking into every single class module to download individual files was a repetitive and frustrating process.',
                    solution: `
                        <p>I developed an automation workflow using <strong>N8N</strong> (a low-code workflow automation tool). This script systematically accesses the relevant class endpoints, identifies all available file links, and downloads them in bulk to a local folder.</p>
                    `,
                    outcomeTitle: 'Outcome',
                    outcome: '<p>This simple automation eliminated a major point of friction, saving valuable time and ensuring all resources were immediately available locally without manual interaction.</p>',
                    link: null
                },
                '4': {
                    title: 'GPT Wrapper (MVP)',
                    tech: ['JavaScript', 'Front-end', 'Back-end', 'DigitalOcean', 'GitHub', 'LLM APIs (GPT-3/4)'],
                    problem: 'This project, built early in the generative AI trend (with minimal JavaScript knowledge), was an MVP designed to help users write supportive and empathetic biographies of loved ones. Early LLMs lacked creativity and required specialized guidance.',
                    solution: `
                        <p>The primary engineering challenge was not the front-end or basic hosting, but overcoming the <strong>limitations of the early LLM APIs</strong>. I spent significant time:</p>
                        <ul class="list-disc list-outside pl-5 space-y-2">
                            <li><strong>Designing System Prompts:</strong> Engineered sophisticated, multi-layered system prompts to force the model into the desired supportive, empathetic, and highly creative tone, maintaining quality over long chat logs.</li>
                            <li><strong>End-to-End Delivery:</strong> Managed the full process from concept to deployment on DigitalOcean, including basic chat logging and context-aware features (like summarizing the chat log to write the final biography).</li>
                        </ul>
                    `,
                    outcomeTitle: 'Key Achievement',
                    outcome: '<p>Successfully delivered a full-stack application by leveraging early AI tools for co-development and specialized in advanced system prompt design to control model output.</p>',
                    link: 'https://github.com/CTLR-X/Dodi',
                    images: ['Dodi AI Main.png', 'Dodi AI Chat.png', 'Bio Editor from dodi AI.png', 'Dodi AI Options.png']
                }
            };

            // --- Modal Elements ---
            const modal = document.getElementById('project-modal');
            const modalPanel = document.getElementById('modal-panel');
            const closeModalBtn = document.getElementById('close-modal-btn');
            const openModalBtns = document.querySelectorAll('.open-modal-btn');

            const modalTitle = document.getElementById('modal-title');
            const modalTech = document.getElementById('modal-tech');
            const modalProblem = document.getElementById('modal-problem');
            const modalSolution = document.getElementById('modal-solution');
            const modalOutcomeTitle = document.getElementById('modal-outcome-title');
            const modalOutcome = document.getElementById('modal-outcome');
            const modalLinkContainer = document.getElementById('modal-link-container');
            const modalLink = document.getElementById('modal-link');
            const modalImages = document.getElementById('modal-images');
            const modalImagesContainer = document.getElementById('modal-images-container');
            const carouselPrev = document.getElementById('carousel-prev');
            const carouselNext = document.getElementById('carousel-next');
            const carouselIndicators = document.getElementById('carousel-indicators');
            const modalVideo = document.getElementById('modal-video');
            const modalVideoIframe = document.getElementById('modal-video-iframe');

            // --- Carousel State ---
            let currentImageIndex = 0;
            let carouselImages = [];

            // --- Carousel Functions ---
            function showCarouselImage(index) {
                currentImageIndex = index;
                
                // Update image display
                modalImagesContainer.innerHTML = '';
                if (carouselImages.length > 0) {
                    const img = document.createElement('img');
                    img.src = carouselImages[currentImageIndex];
                    img.alt = 'Project screenshot';
                    img.className = 'w-full h-80 object-contain rounded-lg shadow-md';
                    modalImagesContainer.appendChild(img);
                }
                
                // Show/hide navigation buttons
                if (carouselImages.length > 1) {
                    carouselPrev.style.display = 'block';
                    carouselNext.style.display = 'block';
                } else {
                    carouselPrev.style.display = 'none';
                    carouselNext.style.display = 'none';
                }
                
                // Update indicators
                carouselIndicators.innerHTML = '';
                if (carouselImages.length > 1) {
                    carouselImages.forEach((_, idx) => {
                        const dot = document.createElement('button');
                        dot.className = `w-2 h-2 rounded-full transition-all ${idx === currentImageIndex ? 'bg-teal-600 w-6' : 'bg-gray-300'}`;
                        dot.onclick = () => showCarouselImage(idx);
                        carouselIndicators.appendChild(dot);
                    });
                }
            }

            function nextCarouselImage() {
                currentImageIndex = (currentImageIndex + 1) % carouselImages.length;
                showCarouselImage(currentImageIndex);
            }

            function prevCarouselImage() {
                currentImageIndex = (currentImageIndex - 1 + carouselImages.length) % carouselImages.length;
                showCarouselImage(currentImageIndex);
            }

            // --- Carousel Event Listeners ---
            carouselPrev.addEventListener('click', prevCarouselImage);
            carouselNext.addEventListener('click', nextCarouselImage);

            // --- Modal Functions ---
            function openModal(projectId) {
                const data = projects[projectId];
                if (!data) return;

                modalTitle.textContent = data.title;
                modalProblem.innerHTML = data.problem;
                modalSolution.innerHTML = data.solution;
                modalOutcomeTitle.textContent = data.outcomeTitle;
                modalOutcome.innerHTML = data.outcome;

                modalTech.innerHTML = '';
                data.tech.forEach(techName => {
                    const techTag = document.createElement('span');
                    techTag.className = 'bg-teal-100 text-teal-800 text-sm font-medium px-3 py-1.5 rounded-full';
                    techTag.textContent = techName;
                    modalTech.appendChild(techTag);
                });

                // Handle images with carousel
                if (data.images && data.images.length > 0) {
                    carouselImages = data.images;
                    currentImageIndex = 0;
                    showCarouselImage(0);
                    modalImages.classList.remove('hidden');
                } else {
                    modalImages.classList.add('hidden');
                }

                // Handle video
                if (data.video && data.video !== '[LINK]') {
                    modalVideoIframe.src = data.video;
                    modalVideo.classList.remove('hidden');
                } else {
                    modalVideo.classList.add('hidden');
                }

                if (data.link && data.link !== '[LINK]') {
                    modalLink.href = data.link;
                    modalLinkContainer.classList.remove('hidden');
                } else {
                    modalLinkContainer.classList.add('hidden');
                }
                
                modal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
                setTimeout(() => {
                    modal.classList.remove('opacity-0');
                    modalPanel.classList.remove('scale-95', 'opacity-0');
                }, 10);
            }

            function closeModal() {
                // Clear video iframe to stop playback
                if (modalVideoIframe) {
                    modalVideoIframe.src = '';
                }
                
                modalPanel.classList.add('scale-95', 'opacity-0');
                modal.classList.add('opacity-0');
                document.body.style.overflow = '';
                setTimeout(() => {
                    modal.classList.add('hidden');
                }, 300);
            }

            // --- Event Listeners ---
            openModalBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    openModal(btn.dataset.projectId);
                });
            });

            closeModalBtn.addEventListener('click', closeModal);

            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });

            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && !modal.classList.contains('hidden')) {
                    closeModal();
                }
            });

            // --- Smooth Scrolling ---
            document.querySelectorAll('.nav-link').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if(targetElement) {
                        const headerOffset = 64; // Height of the sticky nav
                        const elementPosition = targetElement.getBoundingClientRect().top;
                        const offsetPosition = elementPosition + window.pageYOffset - headerOffset;
                
                        window.scrollTo({
                            top: offsetPosition,
                            behavior: "smooth"
                        });
                    }
                });
            });
        });
    </script>
</body>
</html>
